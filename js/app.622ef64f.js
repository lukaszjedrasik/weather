(function(t){function e(e){for(var i,r,n=e[0],l=e[1],c=e[2],u=0,_=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&_.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(_.length)_.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,n=1;n<s.length;n++){var l=s[n];0!==a[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={app:0},o=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/weather/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0176":function(t,e,s){"use strict";var i=s("15c6"),a=s.n(i);a.a},"15c6":function(t,e,s){},2110:function(t,e,s){},"2e29":function(t,e,s){"use strict";var i=s("40f1"),a=s.n(i);a.a},"40f1":function(t,e,s){},"47e2":function(t,e,s){},"498c":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],r=(s("5c0b"),s("2877")),n={},l=Object(r["a"])(n,a,o,!1,null,null,null),c=l.exports,d=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home",style:{height:t.isMobile?t.docHeight+"px":{}}},[s("Logo",{attrs:{width:"150"}}),t._m(0),t.errMessage?s("p",{staticClass:"home__validation-message"},[t._v(" We cannot get your geolocation. Please provide your City. ")]):t._e(),t.loader?s("Loader",{staticClass:"home__loader"}):s("div",{staticClass:"home__actions"},[s("gmap-autocomplete",{staticClass:"home__actions-input",attrs:{placeholder:""},on:{place_changed:t.setPlace}}),s("button",{staticClass:"home__actions-button",on:{click:t.usePlace}},[t._v(" Check ")])],1),t.loader?t._e():s("ShortDetails")],1)},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home__title"},[t._v(" Check the weather! Enter the city name, or "),s("span",{staticClass:"home__title--bold"},[t._v("leave empty for geolocation")]),t._v(". ")])}],p=s("2f62"),m=s("c832"),h=s.n(m),v=function(t,e){var i=e._c;return i("div",{staticClass:"logo"},[i("figure",{staticClass:"logo__wrapper"},[i("img",{staticClass:"logo__img",style:{width:e.props.width+"px"},attrs:{src:s("7335"),alt:"logo cloud clouds"}})]),i("h1",{staticClass:"logo__brand",style:{fontSize:e.props.fontSize+"px"}},[e._v(" AirApp ")])])},f=[],y={name:"Logo",props:{width:{type:String,required:!1},fontSize:{type:String,required:!1}}},g=y,C=(s("e314"),Object(r["a"])(g,v,f,!0,null,"d1081dc8",null)),b=C.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.temperature&&t.cityName&&t.country&&t.description?s("div",{staticClass:"short-details"},[t.temperature?s("div",{staticClass:"short-details__left"},[t._v(" "+t._s(t.temperature)+" "),s("span",{staticClass:"short-details__celsius"},[t._v("℃")])]):t._e(),s("div",{staticClass:"short-details__center"},[t.date?s("div",{staticClass:"short-details__items"},[s("p",{staticClass:"short-details__title"},[t._v("Date:")]),s("p",{staticClass:"short-details__subtitle"},[t._v(t._s(t.date))])]):t._e(),t.cityName?s("div",{staticClass:"short-details__items"},[s("p",{staticClass:"short-details__title"},[t._v("Location:")]),s("p",{staticClass:"short-details__subtitle"},[t._v(t._s(t.cityName)+", "+t._s(t.country))])]):t._e(),t.description?s("div",{staticClass:"short-details__items"},[s("p",{staticClass:"short-details__title"},[t._v("Description:")]),s("p",{staticClass:"short-details__subtitle"},[t._v(t._s(t.description))])]):t._e()]),s("div",{staticClass:"short-details__right"},[s("button",{staticClass:"short-details__button",on:{click:t.showMoreDetails}},[t._v(" more ")])])]):t._e()},D=[],O={computed:{...Object(p["b"])({city:t=>t.city}),date(){return(new Date).toLocaleDateString()},cityName(){return h()(this,"city.data.city.name",!1)},country(){return h()(this,"city.data.city.country",!1)}}},L={name:"ShortDetails",mixins:[O],computed:{temperature(){const t=h()(this,"city.data.details.shortDetails[0].main.temp",!1);return!!t&&t.toFixed()},description(){return h()(this,"city.data.details.shortDetails[0].weather[0].description",!1)},coords(){return h()(this,"city.data.city.coord",!1)}},methods:{showMoreDetails(){(this.cityName||this.coords)&&this.$router.push(`/${this.cityName}&${this.coords.lat}&${this.coords.lon}`)}}},x=L,S=(s("2e29"),Object(r["a"])(x,w,D,!1,null,"8c928b92",null)),j=S.exports,P=function(t,e){e._c;return e._m(0)},$=[function(t,e){var s=e._c;return s("div",{staticClass:"lds-ellipsis loader"},[s("div"),s("div"),s("div"),s("div")])}],M={name:"Loader"},E=M,A=(s("d01a"),Object(r["a"])(E,P,$,!0,null,"227d4c4d",null)),T=A.exports,k={name:"Home",components:{Logo:b,ShortDetails:j,Loader:T},data(){return{coords:{lat:"",lon:""},place:null,docHeight:0,errMessage:!1}},computed:{...Object(p["b"])({city:t=>t.city.data,loader:t=>t.city.loader}),isMobile(){return window.innerWidth<=980}},methods:{getPosition(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(t=>{this.errMessage=!1,this.coords.lat=t.coords.latitude,this.coords.lon=t.coords.longitude,this.$store.dispatch("city/getCityByGeoLocation",this.coords)},t=>{this.errMessage=!0})},setPlace(t){this.errMessage=!1,this.place=t},usePlace(t){this.place&&(this.$store.dispatch("city/getCityByGeoLocation",{lat:this.place.geometry.location.lat(),lon:this.place.geometry.location.lng()}),this.place=null)}},mounted(){const t=h()(this,"city.city.name",!1);t||this.getPosition()},beforeMount(){if(this.isMobile){const t=()=>{this.docHeight=window.innerHeight};window.addEventListener("resize",t),t(),this.$on("hook:beforeDestroy",()=>{window.removeEventListener("resize",t)})}},metaInfo:{title:"Home Page",titleTemplate:"%s | AirApp"}},N=k,z=(s("d40d"),Object(r["a"])(N,u,_,!1,null,null,null)),H=z.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("router-link",{staticClass:"details__link",attrs:{to:"/"}},[s("Logo",{attrs:{width:"50",fontSize:"28"}})],1),t.loader?s("Loader"):s("div",{staticClass:"details__heading"},[s("div",{staticClass:"details__items"},[s("div",{staticClass:"details__title"},[t._v("Date:")]),s("div",{staticClass:"details__subtitle"},[t._v(t._s(t.date))])]),s("div",{staticClass:"details__items"},[s("div",{staticClass:"details__title"},[t._v("Location:")]),s("div",{staticClass:"details__subtitle"},[t._v(t._s(t.cityName)+", "+t._s(t.country))])])]),t.loader?t._e():s("MoreDetails")],1)},R=[],B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"more-details"},[t._m(0),t.customMoreDetails?s("div",{staticClass:"more-details__content-wrapper"},t._l(t.customMoreDetails,(function(e,i){return s("ul",{staticClass:"more-details__content"},[s("li",{staticClass:"more-details__item more-details__item--light"},[t._v(t._s(e.hour))]),s("li",{staticClass:"more-details__item more-details__item--light"},[t._v(t._s(e.temp)+" "),s("span",{staticClass:"more-details__celsius"},[t._v("℃")])]),s("li",{staticClass:"more-details__item more-details__item--light"},[t._v(t._s(e.desc))])])})),0):t._e()])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"more-details__heading"},[s("li",{staticClass:"more-details__item"},[t._v("Hour")]),s("li",{staticClass:"more-details__item"},[t._v("Temperature")]),s("li",{staticClass:"more-details__item"},[t._v("Description")])])}],I={name:"MoreDetails",mixins:[O],computed:{customMoreDetails(){const t=h()(this,"city.data.details.moreDetails",!1);if(t)return t.map(t=>{let e=t.dt_txt.split(" ")[1].split(":");e=`${e[0]}:${e[1]}`;const s=t.main.temp.toFixed(),i=t.weather[0].description;return{hour:e,temp:s,desc:i}})}}},W=I,q=(s("af15"),Object(r["a"])(W,B,F,!1,null,"8f220d34",null)),J=q.exports,K={name:"Details",mixins:[O],components:{Logo:b,MoreDetails:J,Loader:T},beforeRouteEnter(t,e,s){s(e=>{h()(e,"city.data.city.name",!1)||e.$store.dispatch("city/getCityByGeoLocation",{lat:t.params.lat,lon:t.params.lon})})},computed:{...Object(p["b"])({loader:t=>t.city.loader})},mounted(){window.scrollTo(0,0)},metaInfo(){const t=this.$route.params.id;return{title:t,titleTemplate:"%s | AirApp"}}},U=K,X=(s("71ed"),Object(r["a"])(U,G,R,!1,null,null,null)),Y=X.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-not-found"},[s("Logo",{attrs:{width:"200",fontSize:"64"}}),s("router-link",{staticClass:"page-not-found__link",attrs:{to:"/"}},[t._v(" Upss. Something went wrong... Click here and back to Home ")])],1)},V=[],Z={name:"PageNotFound",components:{Logo:b},metaInfo:{title:"Page Not Found",titleTemplate:"%s | AirApp"}},tt=Z,et=(s("0176"),Object(r["a"])(tt,Q,V,!1,null,"53606edb",null)),st=et.exports;i["a"].use(d["a"]);const it=[{path:"/",name:"Home",component:H},{path:"/:id&:lat&:lon",name:"Details",component:Y},{path:"*",name:"PageNotFound",component:st}],at=new d["a"]({mode:"hash",base:"/weather/",routes:it});var ot=at;const rt={data:null,loader:!1},nt={SET_DATA(t,{city:e,list:s}){const i=s.splice(0,6),a=s.splice(0,1);t.data={city:e,details:{shortDetails:a,moreDetails:i}}},SET_LOADER(t,e){t.loader=e}},lt={async getCityByGeoLocation({commit:t},{lat:e,lon:s}){t("SET_LOADER",!0);try{const i=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${s}&units=metric&appid=cd67c7aa5a7696199716366c391cd839`,{method:"POST"})).json();t("SET_DATA",i),t("SET_LOADER",!1)}catch(i){console.error("WRONG LAT OR LON.",i),ot.push("/")}}};var ct={namespaced:!0,state:rt,mutations:nt,actions:lt};i["a"].use(p["a"]);var dt=new p["a"].Store({modules:{city:ct}}),ut=s("1923"),_t=s("58ca");i["a"].use(ut,{load:{key:"AIzaSyBas9jy-xOztPCLdwLYKu-Xkem-2-x8PG0",libraries:"places"},installComponents:!0}),i["a"].use(_t["a"]),i["a"].config.productionTip=!1,new i["a"]({router:ot,store:dt,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var i=s("9c0c"),a=s.n(i);a.a},"71ed":function(t,e,s){"use strict";var i=s("2110"),a=s.n(i);a.a},7335:function(t,e,s){t.exports=s.p+"img/clouds.85e9aec5.svg"},"8e79":function(t,e,s){},"9c0c":function(t,e,s){},af15:function(t,e,s){"use strict";var i=s("498c"),a=s.n(i);a.a},d01a:function(t,e,s){"use strict";var i=s("8e79"),a=s.n(i);a.a},d40d:function(t,e,s){"use strict";var i=s("47e2"),a=s.n(i);a.a},e314:function(t,e,s){"use strict";var i=s("e860"),a=s.n(i);a.a},e860:function(t,e,s){}});
//# sourceMappingURL=app.622ef64f.js.map